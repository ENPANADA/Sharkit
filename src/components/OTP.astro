---
import Pininput from "@components/PinInput.astro";
import { ButtonPromise } from "@lib/Toasts";
---

<form autocomplete="off">
  <h2>Email Verification</h2>
  <p>
    <strong>For your security</strong>, you should change your account's default
    password <strong>right now</strong>. Keep your information protected at all
    times.
  </p>
  <p>
    A <strong>code</strong> has been sent to the
    <strong>email</strong>:
  </p>
  <h3>example*****@components.ui</h3>
  <Pininput />
  <span>Enter the code that was sent to your email.</span>
  <p>
    Didn't receive code?
    <ButtonPromise
      client:idle
      title="Resend"
      loading="Sending email..."
      success="The email has been sent!"
      error="An error occurred ðŸ˜ž, try again."
    />
  </p>
  <button>Verify Account &rarr;</button>
</form>

<style>
  form {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1.5rem;
    background: var(--lg5);
    border-radius: 0.9rem;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    box-sizing: border-box;
    box-shadow: rgb(var(--bg-dark)) 6px 6px 12px;

    h2,
    h3 {
      margin: 0;
      font-size: 1.3rem;
      align-self: center;
      font-family: 'Raleway', monospace;
      transition: color 0.2s;
    }

    h2 {
      text-shadow: 3px 3px 4px rgb(var(--accent));
    }

    h3 {
      font-size: 20px;
      max-width: 100%;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    p {
      margin: 0;
      font-size: 1rem;
    }

    span {
      margin: 0;
      font-size: 0.92rem;
      align-self: center;
    }

    strong,
    h2:hover,
    h3:hover {
      color: rgb(var(--accent-light));
    }

    button {
      padding: 0.5rem 0.6rem;
      border-radius: 0.5rem;
      border: solid 0.1rem rgb(var(--accent));
      font-size: 0.9rem;
      color: inherit;
      background-color: rgb(var(--accent-dark));
      align-self: end;
      cursor: pointer;
      transition:
        border-color 0.2s ease,
        color 0.2s ease;

      &:hover,
      &:focus {
        border-color: rgb(var(--accent-light));
        color: rgb(var(--accent-light));
        outline: none;
      }
    }

    button[type="button"] {
      background-color: transparent;
      text-decoration: underline;
      border: none;
      color: rgb(var(--accent-light));
      padding: 0;
      cursor: pointer;
      border-radius: 10%;
      padding: 0.2rem 0.3rem;
      transition: color 0.2s ease;

      &:hover {
        color: rgb(var(--accent));
      }

      &:focus-visible {
        outline: 1px solid rgb(var(--accent));
      }
    }
  }
</style>
