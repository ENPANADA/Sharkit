---
import Template from "@layouts/Component.astro";
---

<Template>
  <h3>Slider</h3>
  <figure>
    <article>
      <aside>
        <div>
          <svg viewBox="0 0 8 26">
            <text x="0" y="18">1</text>
          </svg>
        </div>
        <div>
          <svg viewBox="0 0 8 26">
            <text x="0" y="18">2</text>
          </svg>
        </div>
        <div>
          <svg viewBox="0 0 8 26">
            <text x="0" y="18">3</text>
          </svg>
        </div>
        <div>
          <svg viewBox="0 0 8 26">
            <text x="0" y="18">4</text>
          </svg>
        </div>
        <div>
          <svg viewBox="0 0 8 26">
            <text x="0" y="18">5</text>
          </svg>
        </div>
      </aside>
      <div>
        <span>
          <input type="radio" name="bgs" id="bg1" checked />
          <input type="radio" name="bgs" id="bg2" />
          <input type="radio" name="bgs" id="bg3" />
          <input type="radio" name="bgs" id="bg4" />
          <input type="radio" name="bgs" id="bg5" />
        </span>
      </div>
    </article>
    <nav>
        <label for="bg1">One</label>
        <label for="bg2">Two</label>
        <label for="bg3">Three</label>
        <label for="bg4">Four</label>
        <label for="bg5">Five</label>
    </nav>
  </figure>
</Template>

<style>
  figure {
    margin: 0;
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    border: 2px solid rgb(var(--accent-dark));
    border-radius: 10px;
    background: rgb(var(--bg-dark));

    article {
      height: 300px;
      position: relative;
      border: 2px solid;
      border-image: var(--lg4) 1;
      overflow: clip;

      & > div {
        width: 100%;
        position: absolute;
        bottom: 6%;
        display: flex;
        justify-content: center;

        span {
          background-color: rgb(0 0 0 / 0.25);
          padding: 7px 12px;
          border-radius: 10px;
          display: inline-flex;
          gap: 4px;
        }

        input {
          appearance: none;
          background-color: rgb(var(--accent-dark));
          margin: 0;
          width: 12px;
          height: 12px;
          border: 1px solid rgb(var(--accent-light) / 60%);
          border-radius: 10px;
          transition:
            width 0.2s ease,
            background-color 0.2s ease-out,
            border-color 0.2s ease-out;

          &:hover {
            cursor: pointer;
            border-color: rgb(var(--accent-light));
          }

          &:checked {
            cursor: default;
            width: 24px;
            border-color: rgb(var(--accent-light));
            background: rgb(var(--accent-secondary));
          }
        }
      }
    }

    &:has(input#bg1:checked) {
      --index: 0;
    }
    &:has(input#bg2:checked) {
      --index: 1;
    }
    &:has(input#bg3:checked) {
      --index: 2;
    }
    &:has(input#bg4:checked) {
      --index: 3;
    }
    &:has(input#bg5:checked) {
      --index: 4;
    }

    &:has(input#bg1:checked) nav label:first-child,
    &:has(input#bg2:checked) nav label:nth-child(2),
    &:has(input#bg3:checked) nav label:nth-child(3),
    &:has(input#bg4:checked) nav label:nth-child(4),
    &:has(input#bg5:checked) nav label:nth-child(5) {
      background-color: rgb(var(--accent-dark));
      border-color: rgb(var(--accent-light));
    }
  }

  aside {
    height: 100%;
    display: flex;
    translate: calc(-100% * var(--index, 0));
    transition: translate 0.4s ease-in-out;

    div {
      position: relative;
      display: flex;
      flex: 1 0 100%;
      flex-direction: column;
      background: var(--lg1);
    }

    svg {
      font-style: italic;
      font-family: Impact, Arial, sans-serif;
      fill: rgb(var(--accent-secondary));
      stroke: rgb(var(--accent-light));
      stroke-width: 0.5;
    }
  }

  nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end;
    margin-top: 15px;
    gap: 8px;

    label {
      margin: 0;
      padding: 5px 10px;
      border-radius: 8px;
      border: solid 1px rgb(var(--accent-secondary));
      font-size: 15px;
      color: inherit;
      cursor: pointer;
      text-decoration: none;
      transition:
        border 0.2s ease-out,
        background-color 0.2s ease;

      &:hover {
        border-color: rgb(var(--accent-light) / 60%);
      }
    }
  }
</style>
